 <!-- <script>
        let data = {}; // Store JSON data

        document.getElementById('region').addEventListener('change', function () {
            document.getElementById('typeSelection').style.display = this.value ? "block" : "none";
            document.getElementById('results').style.display = "none";
        });

        document.getElementById('type').addEventListener('change', fetchFilteredData);
        document.getElementById('minPrice').addEventListener('input', fetchFilteredData);
        document.getElementById('maxPrice').addEventListener('input', fetchFilteredData);

        async function fetchData(region, type) {
            const filename = `/data/${region}${type === 'building' ? 'B' : 'H'}.json`;
            try {
                const response = await fetch(filename);
                if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
                data = await response.json();
                updateResults(region, type);
            } catch (error) {
                console.error(`âŒ Error loading JSON file: ${filename}`, error);
                document.getElementById('details').innerHTML = "<p>âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª.</p>";
                document.getElementById('results').style.display = "none";
            }
        }

        function updateResults(region, type) {
            const detailsDiv = document.getElementById('details');
            const results = data[region][type];

            const minPrice = parseInt(document.getElementById('minPrice').value) || 0;
            const maxPrice = parseInt(document.getElementById('maxPrice').value) || Infinity;

            const filteredResults = results.filter(item => item.price_range.min >= minPrice && item.price_range.max <= maxPrice);

            if (filteredResults.length > 0) {
                detailsDiv.innerHTML = filteredResults.map((item, index) => `
                    <li class="list-group-item">
                        <a href="details.html?region=${region}&type=${type}&index=${index}" class="text-decoration-none">
                            ${item.name} - ${item.location} (Ø§Ù„Ø³Ø¹Ø±: ${item.price_range.min} - ${item.price_range.max} Ø¯ÙŠÙ†Ø§Ø± Ø¹Ø±Ø§Ù‚ÙŠ)
                        </a>
                    </li>
                `).join('');
                document.getElementById('results').style.display = 'block';
            } else {
                detailsDiv.innerHTML = "<p>âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù‚Ø§Ø±Ø§Øª Ø¶Ù…Ù† Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ø³Ø¹Ø±ÙŠ Ø§Ù„Ù…Ø­Ø¯Ø¯.</p>";
                document.getElementById('results').style.display = "none";
            }
        }

        function fetchFilteredData() {
            const region = document.getElementById('region').value;
            const type = document.getElementById('type').value;
            if (region && type) fetchData(region, type);
        }
    </script> -->

 <!-- <script>
        let data = {}; // Store JSON data

        // âœ… Extract Parameters from URL
        const urlParams = new URLSearchParams(window.location.search);
        const region = urlParams.get('region');
        const type = urlParams.get('type');
        const index = parseInt(urlParams.get('index'), 10);

        console.log(`ğŸŒ Extracted from URL: Region=${region}, Type=${type}, Index=${index}`);

        if (region && type && !isNaN(index)) {
            fetchData(region, type, index);
        } else {
            console.error("âŒ Missing or incorrect parameters: region, type, or index.");
        }

        // âœ… Function to Fetch Data Dynamically
        async function fetchData(region, type, index) {
            const filename = `/data/${region}${type === 'building' ? 'B' : 'H'}.json`;

            try {
                console.log(`ğŸ” Fetching JSON file: ${filename}`);
                const response = await fetch(filename);
                if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);

                data = await response.json();
                console.log("âœ… Data Loaded Successfully:", data);

                loadPropertyDetails(region, type, index);
            } catch (error) {
                console.error(`âŒ Error loading JSON file: ${filename}`, error);
                document.getElementById('info').innerHTML = "<p>âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.</p>";
            }
        }

        // âœ… Load and Display Property Details
        function loadPropertyDetails(region, type, index) {
    console.log("ğŸ” Checking Data:", data);
    console.log(`ğŸ“Œ Looking for data[${region}][${type}][${index}]`);

    if (data[region] && data[region][type] && Array.isArray(data[region][type]) && data[region][type][index]) {
        const item = data[region][type][index];

        console.log("âœ… Property Found:", item);

        document.getElementById('name').textContent = item.name;
        document.getElementById('info').innerHTML = `
            <p><strong>Ø§Ù„Ù…ÙˆÙ‚Ø¹:</strong> ${item.location}</p>
            <p><strong>Ø§Ù„Ù…Ø³Ø§Ø­Ø©:</strong> ${item.area}</p>
            <p><strong>Ø§Ù„Ù…Ø³Ø§Ø­Ø§Øª Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡:</strong> ${item.green_spaces}</p>
            <p><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙˆØ­Ø¯Ø§Øª:</strong> ${item.total_units}</p>
            <p><strong>${item.buildings_count !== null ? "Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ" : "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¨ÙŠÙˆØª"}:</strong> ${item.buildings_count !== null ? item.buildings_count : item.total_houses}</p>
            <p><strong>Ù…Ø³Ø§Ø­Ø§Øª Ø§Ù„ÙˆØ­Ø¯Ø§Øª:</strong> ${item.unit_sizes}</p>
            <p><strong>ğŸ’° Ø§Ù„Ø³Ø¹Ø±:</strong> ${item.price_range.min} - ${item.price_range.max} Ø¯ÙŠÙ†Ø§Ø± Ø¹Ø±Ø§Ù‚ÙŠ</p>
            <p><strong>Ø§Ù„Ø®Ø¯Ù…Ø§Øª:</strong> ${item.services.join(", ")}</p>
            <p><strong>Ø§Ù„ØªÙˆØ§ÙØ±:</strong> ${item.availability}</p>
            <p><strong>Ø§Ù„Ø§ØªØµØ§Ù„:</strong> <a href="tel:${item.contact.phone}">${item.contact.phone}</a></p>
            <p><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong> <a href="mailto:${item.contact.email}">${item.contact.email}</a></p>
            <p><strong>Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong> <a href="${item.contact.website}" target="_blank">${item.contact.website}</a></p>
        `;

        // âœ… Dynamically Populate Images Carousel
        const carouselIndicators = document.getElementById('carousel-indicators');
        const carouselInner = document.getElementById('carousel-inner');

        carouselIndicators.innerHTML = "";
        carouselInner.innerHTML = "";

        item.images.forEach((img, imgIndex) => {
            // Create indicators
            carouselIndicators.innerHTML += `
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="${imgIndex}" 
                    ${imgIndex === 0 ? 'class="active" aria-current="true"' : ''} aria-label="Slide ${imgIndex + 1}">
                </button>
            `;

            // Create carousel items
            carouselInner.innerHTML += `
                <div class="carousel-item ${imgIndex === 0 ? 'active' : ''}">
                    <img src="${img}" class="d-block w-100 img-fluid" alt="Property Image">
                </div>
            `;
        });

    } else {
        console.warn("âŒ No matching property found.");
        document.getElementById('info').innerHTML = "<p>âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ØªÙØ§ØµÙŠÙ„ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù‚Ø§Ø±.</p>";
    }
}
</script> -->


    