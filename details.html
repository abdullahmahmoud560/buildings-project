<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</title>
    <link rel="icon" href="../images/icon.png" type="image/png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/styles.css" rel="stylesheet">
</head>

    <body class="details-page-background">

        <header class="header-container text-light py-2 shadow">
            <div class="container d-flex justify-content-between align-items-center flex-wrap">
                <!-- Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙŠØ³Ø±: Ø§Ù„Ù‡Ø§ØªÙ -->
                <div class="d-flex align-items-center phone-section">
                    <img src="../images/CallUs2.png" alt="Phone Icon" width="30" height="30" class="me-2">
                    <a href="tel:07716361821" class="text-light text-decoration-none fs-5 phone-number">07716361821</a>
                </div>
        
                <!-- Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆØ³Ø·: Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
                <div class="text-center flex-grow-1 title-section">
                    <h3 class="mb-0 fs-4 fw-bold">Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¬Ù…Ø¹Ø§Øª Ø§Ù„Ø³ÙƒÙ†ÙŠØ© ÙÙŠ Ø¨ØºØ¯Ø§Ø¯</h3>
                </div>
                <a href="index.html" class="btn btn-secondary mt-3">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>

            </div>
        </header>
    <div class="container mt-5">
        <div class="col-md-5 p-2 rounded shadow w-100" style="margin-bottom: 25px;">
            <h1 class="text-center mb-4" style="color: white !important;" id="name"></h1>
        </div>
        <div class="container mt-4">
            <div class="row justify-content-center" id="info" style="color: white !important;"></div>
        </div>
        
        

        <h2 class="mt-4">ØµÙˆØ± Ø§Ù„Ø¹Ù‚Ø§Ø±</h2>
        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
            <div class="carousel-indicators" id="carousel-indicators">
                </div>
            <div class="carousel-inner" id="carousel-inner">
                </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Ø§Ù„Ø³Ø§Ø¨Ù‚</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Ø§Ù„ØªØ§Ù„ÙŠ</span>
            </button>
        </div>
        <a href="results.html" class="btn btn-secondary mt-3">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø¨Ø­Ø«</a>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    </div>

    <footer class="footer mt-5 py-3 text-center">
        <div class="container">
            <p class="mb-0">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; 2024 - Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¬Ù…Ø¹Ø§Øª Ø§Ù„Ø³ÙƒÙ†ÙŠØ© ÙÙŠ Ø¨ØºØ¯Ø§Ø¯</p>
       <p>Developed By: <span class="text-light">Shahad & Saja</span></p>
        </p>
        </div>
    </footer>

    <script src="/js/script.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
    // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ù…Ù† URL
    const urlParams = new URLSearchParams(window.location.search);
    const name = urlParams.get('name');
    const region = urlParams.get('region');
    const type = urlParams.get('type');
    const index = parseInt(urlParams.get('index'));

    // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª
    if (name && region && type && !isNaN(index)) {
        // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† localStorage
        const data = JSON.parse(localStorage.getItem("searchResults"));
        if (data && data.results && data.region === region && data.type === type) {
            loadPropertyDetails(data.results, region, type, index);
        } else {
            document.getElementById('info').innerHTML = "<p>âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø¹Ø±Ø¶.</p>";
        }
    } else {
        document.getElementById('info').innerHTML = "<p>âŒ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©.</p>";
    }
});

function loadPropertyDetails(data, region, type, index) {
    const propertyType = type === 'building' ? 'building' : 'houses';
    const item = data[region]?.[propertyType]?.[index];

    if (item) {
        document.getElementById('name').textContent = item.name;
        document.getElementById('info').innerHTML = `
            <p><strong>Ø§Ù„Ù…ÙˆÙ‚Ø¹:</strong> ${item.location}</p>
            <p><strong>Ø§Ù„Ù…Ø³Ø§Ø­Ø§Øª Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡:</strong> ${item.green_spaces}</p>
            <p><strong>Ù†ÙˆØ¹ Ø§Ù„Ø¨Ù†Ø§Ø¡:</strong> ${item.building_type}</p>
            <p><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙˆØ­Ø¯Ø§Øª:</strong> ${item.total_units}</p>
            <p><strong>Ù…Ø³Ø§Ø­Ø§Øª Ø§Ù„ÙˆØ­Ø¯Ø§Øª:</strong> ${item.unit_sizes}</p>
            <p><strong>Ø§Ù„Ø³Ø¹Ø±:</strong> ${item.price_range.min} - ${item.price_range.max} Ø¯ÙŠÙ†Ø§Ø± Ø¹Ø±Ø§Ù‚ÙŠ</p>
            <p><strong>Ø§Ù„Ø®Ø¯Ù…Ø§Øª:</strong> ${item.services.join(", ")}</p>
            <p><strong>Ø§Ù„ØªÙˆØ§ÙØ±:</strong> ${item.availability}</p>
            <p><strong>Ø§Ù„Ø§ØªØµØ§Ù„:</strong> <a href="tel:${item.contact.phone}">${item.contact.phone}</a></p>
            <p><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong> <a href="mailto:${item.contact.email}">${item.contact.email}</a></p>
            <p><strong>Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong> <a href="${item.contact.website}" target="_blank">${item.contact.website}</a></p>
        `;

        const carouselIndicators = document.getElementById('carousel-indicators');
        const carouselInner = document.getElementById('carousel-inner');

        carouselIndicators.innerHTML = "";
        carouselInner.innerHTML = "";

        item.images.forEach((img, imgIndex) => {
            carouselIndicators.innerHTML += `
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="${imgIndex}"
                    ${imgIndex === 0 ? 'class="active" aria-current="true"' : ''} aria-label="Slide ${imgIndex + 1}">
                </button>
            `;

            carouselInner.innerHTML += `
                <div class="carousel-item ${imgIndex === 0 ? 'active' : ''}">
                    <img src="${img}" class="d-block w-100 img-fluid" alt="Property Image">
                </div>
            `;
        });
    } else {
        document.getElementById('info').innerHTML = "<p>âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ØªÙØ§ØµÙŠÙ„ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù‚Ø§Ø±.</p>";
    }
}
</script>
</body>
</html>